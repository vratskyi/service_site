---
import SwitchLang from './SwitchLang.astro'
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import ThemeSwitcher from './ThemeSwitcher.astro'
import OrderButton from '../buttons/OrderButton.astro'
import Logo from '../Logo.astro'
import MenuButton from '../buttons/MenuButton.astro'

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<div class="navbar bg-base-200 rounded-box px-5 sticky">
    <div class="navbar-start">
      <!-- кнопка меню -->
      <MenuButton />
    </div>
    <!-- логотип -->
    <Logo />
    <div class="navbar-end flex space-x-6">
    <div class="flex space-x-2">
      <!-- переключатель тем -->
      <ThemeSwitcher />
      <!-- переключатель языка -->
      <SwitchLang />
    </div>
      <!-- заказать -->
      <OrderButton />
    </div>
  </div>

<!-- скрипты -->
  <!-- <script type="text/javascript" transition:persist>
  // кнопка меню
    document.addEventListener('astro:page-load', () => {
      const button = document.querySelector('.swap input[type="checkbox"]');
      const menu = document.querySelector('.menu');

      // Обработчик событий для чекбокса
      button.addEventListener('change', function() {
        if (this.checked) {
          // Если чекбокс выбран, открываем меню
          menu.style.display = 'block';
        } else {
          // Если чекбокс не выбран, закрываем меню
          menu.style.display = 'none';
        }
      });

      // Обработчик событий для документа
      document.addEventListener('click', function(event) {
        const isClickInside = button.contains(event.target) || menu.contains(event.target);

        if (!isClickInside && button.checked) {
          // Если клик был сделан вне кнопки и меню, и чекбокс выбран, меняем состояние чекбокса и закрываем меню
          setTimeout(function() {
            button.checked = false;
            menu.style.display = 'none';
          }, 0);
        }
      })
    });
  </script> -->